<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Interactive Form with Validation</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="form-container">
      <h2>Signup Form</h2>
      <form id="signupForm" novalidate>
        <label for="username">Username:</label>
        <input type="text" id="username" name="username" required />
        <small class="error" id="usernameError"></small>

        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required />
        <small class="error" id="emailError"></small>

        <label for="password">Password:</label>
        <input
          type="password"
          id="password"
          name="password"
          required
          minlength="6"
        />
        <small class="error" id="passwordError"></small>

        <button type="submit">Register</button>
        <p id="successMessage"></p>
      </form>
    </div>

    <script>
      const form = document.getElementById("signupForm");
      const usernameInput = document.getElementById("username");
      const emailInput = document.getElementById("email");
      const passwordInput = document.getElementById("password");

      const usernameError = document.getElementById("usernameError");
      const emailError = document.getElementById("emailError");
      const passwordError = document.getElementById("passwordError");
      const successMessage = document.getElementById("successMessage");

      form.addEventListener("submit", function (event) {
        event.preventDefault();
        let isValid = true;

        // Reset errors and styles
        clearErrors();

        // Username validation
        if (usernameInput.value.trim() === "") {
          showError(usernameInput, usernameError, "Username is required");
          isValid = false;
        }

        // Email validation using regex
        if (usernameInput.value.trim() === "") {
          showError(emailInput, emailError, "Email is required");
          isValid = false;
        }

        // Password validation (min 6 chars)
        if (passwordInput.value.length < 6) {
          showError(
            passwordInput,
            passwordError,
            "Password must be at least 6 characters"
          );
          isValid = false;
        }

        if (isValid) {
          successMessage.textContent = "Form submitted successfully!";
          form.reset();
        }
      });

      // Utility functions
      function showError(input, errorElement, message) {
        input.classList.add("invalid");
        errorElement.textContent = message;
        errorElement.style.visibility = "visible";
      }

      function clearErrors() {
        [usernameInput, emailInput, passwordInput].forEach((input) =>
          input.classList.remove("invalid")
        );
        [usernameError, emailError, passwordError].forEach((error) => {
          error.textContent = "";
          error.style.visibility = "hidden";
        });
        successMessage.textContent = "";
      }
    </script>
  </body>
</html>
